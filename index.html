<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes AENOR - Inspección Estructural</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #667eea; --secondary: #764ba2; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px;
        }
        .container {
            background: var(--white); width: 100%; max-width: 900px;
            padding: 30px; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
        .slide { display: none; animation: fadeIn 0.5s ease; }
        .slide.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        h2, h3 { color: #333; margin-bottom: 20px; text-align: center; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #555; font-size: 0.9rem; }
        input, select, textarea {
            width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;
        }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.85rem; }
        th, td { border: 1px solid #eee; padding: 10px; text-align: left; }
        th { background: #f8f9fa; }
        
        .buttons { display: flex; justify-content: space-between; margin-top: 30px; }
        button {
            padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer;
            font-weight: bold; transition: 0.3s;
        }
        .btn-prev { background: #e0e0e0; color: #333; }
        .btn-next { background: var(--primary); color: white; }
        button:hover { opacity: 0.9; transform: scale(1.02); }
    </style>
</head>
<body>

<div class="container">
    <form id="formReporte">
        <h2>REPORTE TÉCNICO AENOR</h2>

        <div class="slide active">
            <h3><i class="fas fa-handshake"></i> Datos del Cooperador</h3>
            <div class="form-grid">
                <div class="form-group"><label>Razón Social (E11)</label><input type="text" name="razon_social" required></div>
                <div class="form-group"><label>RUC (T11)</label><input type="text" name="ruc" required></div>
            </div>
            <h4>Personal en Campo</h4>
            <div class="form-grid">
                <div><label>P1 Nombre (D12)</label><input type="text" name="p1_nombre"></div>
                <div><label>P1 Cargo (H12)</label><input type="text" name="p1_cargo"></div>
                <div><label>P1 Empresa (Q12)</label><input type="text" name="p1_empresa"></div>
                <div><label>P1 DNI (T12)</label><input type="text" name="p1_dni"></div>
            </div>
            <div class="form-grid">
                <div><label>P2 Nombre (D13)</label><input type="text" name="p2_nombre"></div>
                <div><label>P2 DNI (T13)</label><input type="text" name="p2_dni"></div>
                <div><label>P3 Nombre (D14)</label><input type="text" name="p3_nombre"></div>
                <div><label>P3 DNI (T14)</label><input type="text" name="p3_dni"></div>
            </div>
        </div>

        <div class="slide">
            <h3><i class="fas fa-broadcast-tower"></i> Datos del Proyecto</h3>
            <div class="form-grid">
                <div><label>Nombre Site (E20)</label><input type="text" name="nombre_site"></div>
                <div><label>Proyecto (L20)</label><input type="text" name="proyecto"></div>
                <div><label>Solución (T20)</label><input type="text" name="solucion"></div>
            </div>
            <div class="form-grid">
                <div><label>Prioridad (E21)</label><input type="text" name="prioridad"></div>
                <div><label>N. MOP (T21)</label><input type="text" name="n_mop"></div>
                <div><label>Dirección (E22)</label><input type="text" name="direccion"></div>
            </div>
            <div class="form-grid">
                <div><label>Ubicación (E24)</label><input type="text" name="ubicacion_geografica" placeholder="Dep/Prov/Dist"></div>
                <div><label>Tipo de Sitio (L24)</label><input type="text" name="tipo_sitio"></div>
                <div><label>Servicio (T24)</label><input type="text" name="servicio_inspeccionado"></div>
            </div>
        </div>

        <div class="slide">
            <h3><i class="fas fa-user-check"></i> Datos del Inspector</h3>
            <div class="form-grid">
                <div><label>Inspector 1 (D28)</label><input type="text" name="ins1_nombre"></div>
                <div><label>DNI/CE (T28)</label><input type="text" name="ins1_dni"></div>
                <div><label>Inspector 2 (D29)</label><input type="text" name="ins2_nombre"></div>
                <div><label>DNI/CE (T29)</label><input type="text" name="ins2_dni"></div>
            </div>
            <div class="form-grid">
                <div><label>Inicio Supervisión (F30)</label><input type="date" name="fecha_inicio_supervision"></div>
                <div><label>Fin Supervisión (R30)</label><input type="date" name="fecha_fin_supervision"></div>
            </div>
        </div>

        <div class="slide">
            <h3><i class="fas fa-list-check"></i> Checklist: Cimentación y Conexiones</h3>
            <table>
                <thead><tr><th>Pregunta</th><th>Estado</th><th>Paraliza</th><th>Obs</th></tr></thead>
                <tbody id="checklist-a">
                    </tbody>
            </table>
        </div>

        <div class="slide">
            <h3><i class="fas fa-list-check"></i> Checklist: Oxidación y Estabilidad</h3>
            <table>
                <thead><tr><th>Pregunta</th><th>Estado</th><th>Paraliza</th><th>Obs</th></tr></thead>
                <tbody id="checklist-b"></tbody>
            </table>
        </div>

        <div class="buttons">
            <button type="button" class="btn-prev" onclick="changeSlide(-1)">Anterior</button>
            <button type="button" class="btn-next" onclick="changeSlide(1)">Próximo</button>
        </div>
    </form>
</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll(".slide");

    // Datos para generar las 45 preguntas automáticamente
    const preguntas = [
        "Presenta fisuras en el concreto", "Presenta desprendimientos", "Presenta humedad",
        "Presenta grouting", "Presenta óxido (Anclajes)", "Presenta tuerca y contra tuerca",
        "Presenta deformación (Plancha)", "Presenta óxido (Plancha)", "Presenta fisuras en la plancha", "Presenta fisuras en la soldadura",
        "Pernos faltantes (>30%)", "Óxido en pernos", "Tuerca y contra tuerca (Conex)", "Óxido en planchas", "Fisuras en plancha", "Fisuras en soldadura",
        "Óxido en montantes", "Óxido en diagonales", "Óxido en redundantes", "Óxido en horizontales", "Óxido en escaleras/cables", "Óxido en línea de vida", "Óxido en roldanas", "Óxido en soportes",
        "Corrosión en montantes", "Corrosión en diagonales", "Corrosión en redundantes", "Corrosión en horizontales", "Corrosión en escaleras/cables", "Corrosión en línea de vida", "Corrosión en roldanas", "Corrosión en soportes",
        "Pérdida de pintura", "Pérdida de galvanizado",
        "Deformación vertical (>2%)", "Movimiento en tope de torre", "Tensión en vientos", "Fijación contravientos", "Línea de vida sin continuidad",
        "Empozamiento de agua", "Filtraciones", "Falta de limpieza", "Acumulación desperdicios", "Crecimiento vegetación", "Heces de aves"
    ];

    function initChecklist() {
        const tableA = document.getElementById("checklist-a");
        const tableB = document.getElementById("checklist-b");
        preguntas.forEach((p, i) => {
            const row = `<tr>
                <td>${i+1}. ${p}</td>
                <td><select name="p${i+1}_status"><option value="N/A">N/A</option><option value="SI">SI</option><option value="NO">NO</option></select></td>
                <td><input type="checkbox" name="p${i+1}_paraliza" value="SI"></td>
                <td><input type="text" name="p${i+1}_obs" style="width:100px"></td>
            </tr>`;
            if(i < 20) tableA.innerHTML += row;
            else tableB.innerHTML += row;
        });
    }

    function changeSlide(n) {
        slides[currentSlide].classList.remove("active");
        currentSlide += n;
        if (currentSlide >= slides.length) {
            enviarDatos();
            currentSlide = slides.length - 1;
        }
        if (currentSlide < 0) currentSlide = 0;
        slides[currentSlide].classList.add("active");
    }

    async function enviarDatos() {
        const form = document.getElementById("formReporte");
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        console.log("Datos listos para enviar:", data);
        alert("Formulario completado. Revisa la consola.");
    }

    initChecklist();
</script>

</body>
</html>
